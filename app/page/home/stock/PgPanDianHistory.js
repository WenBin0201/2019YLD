import React from 'react'import { View, TextInput, FlatList, CheckBox, Text } from 'react-native'import Button from '../../../component/Button'import { WIDTH_RATIO } from '../../../constant/StaticDataDef'import styles from '../../../style/PgPanDianHistoryStyle'import FormCell, { TYPE_BUTTON, TYPE_CHECK_BOX, TYPE_TEXT } from '../../../component/FormCell'const testData: Array = require('../../test/TestData_PgPanDianHistory')const listHeadTexts: Array = require('./PgPanDianHistoryListHead')const widths = listHeadTexts.map(({ width }) => width)export default class PgPanDianHistory extends React.Component {    _renderHead = () => {        return (            <View style={styles.headContainer}>                <Button text={'盘点历史'} fontSize={17} width={80 * WIDTH_RATIO} height={28 * WIDTH_RATIO}                        backgroundColor={'rgb(235,97,0)'}/>            </View>        )    }    _renderContentQueryCol = () => {        return (            <View style={styles.queryContainer}>                <View style={styles.queryItemContainer}>                    <TextInput                        style={[ styles.queryInput, { width: 80 * WIDTH_RATIO } ]}                        placeholder={'年/月/日'}                        underlineColorAndroid={'transparent'}                        placeholderTextColor={'rgb(158,158,158)'}/>                    <TextInput                        style={[ styles.queryInput, { width: 80 * WIDTH_RATIO } ]}                        placeholder={'年/月/日'}                        underlineColorAndroid={'transparent'}                        placeholderTextColor={'rgb(158,158,158)'}/>                    <Button                        text={'查询'}                        style={styles.queryButton}                        backgroundColor={'rgb(214,50,0)'}                        fontSize={12}                        width={40 * WIDTH_RATIO}/>                </View>                <View style={styles.queryItemContainer}>                    <TextInput                        style={[ styles.queryInput, { width: 125 * WIDTH_RATIO } ]}                        placeholder={'请输入条码/拼音码/自编码'}                        underlineColorAndroid={'transparent'}                        placeholderTextColor={'rgb(158,158,158)'}/>                    <Button                        text={'查询'}                        backgroundColor={'rgb(214,50,0)'}                        fontSize={12}                        height={20 * WIDTH_RATIO}                        style={styles.queryButton}                        width={40 * WIDTH_RATIO}/>                </View>            </View>        )    }    _renderListHead = () => {        const headTexts = listHeadTexts.map(({ text, width }) => (            <FormCell                key={() => text}                customStyle={{ flex: width, ...styles.headItem }}            >{text}</FormCell>        ))        return (            <View style={styles.listHeadContainer}>                {headTexts}            </View>        )    }    _renderItem = ({ item: { k0, k1, k2, k3, k4, k5, k6, k7, k8, k9, k10, k11, k12, k13 } }) => {        const values = [ k0, k1, k2, k3, k4, k5, k6, k7, k8, k9, k10, k11, k12, k13 ]        const items = values.map((text, index, array) => {            return (                <FormCell                    type={index === 0 ? TYPE_CHECK_BOX : index === array.length - 1 ? TYPE_BUTTON : TYPE_TEXT}                    key={() => text}                    customStyle={{ flex: widths[ index ], ...styles.listItem }}                >{index === array.length - 1 ? '查看详情' : text}</FormCell>            )        })        return (            <View style={[ styles.listHeadContainer, styles.listItemContainer ]}>                {items}            </View>        )    }    _renderList = () => {        return (            <FlatList                data={testData}                renderItem={this._renderItem}                keyExtractor={(item, index) => `item_${index}`}            />        )    }    _renderContent = () => {        return (            <View style={styles.contentContainer}>                {this._renderContentQueryCol()}                {this._renderListHead()}                {this._renderList()}            </View>        )    }    _renderBottom = () => {        return (            <View style={styles.bottomContainer}>                <View style={styles.bottomLeftContainer}>                    <CheckBox/>                    <Text style={styles.bottomLeftText}>本页全选</Text>                    <Text style={styles.bottomLeftText}>全部1</Text>                    <Text style={styles.bottomLeftText}>已选中1</Text>                </View>                <Button                    text={'盘点亏盈汇总'}                    fontSize={25}                    backgroundColor={'rgb(214,50,0)'}                    width={120 * WIDTH_RATIO}                    height={45 * WIDTH_RATIO}                    borderRadius={8}                    style={{ marginRight: 20 * WIDTH_RATIO }}                />            </View>        )    }    render(): React.ReactNode {        return (            <View style={styles.container}>                {this._renderHead()}                {this._renderContent()}                {this._renderBottom()}            </View>        )    }}